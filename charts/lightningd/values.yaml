global:
  network: bitcoin

replicaCount: 1

secrets:
  create: true

image:
  repository: elementsproject/lightningd
  pullPolicy: IfNotPresent
  # Overrides the image tag whose default is the chart appVersion.
  tag: "v25.09.1"

imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""

serviceAccount:
  # Specifies whether a service account should be created
  create: true
  # Annotations to add to the service account
  annotations: {}
  # The name of the service account to use.
  # If not set and create is true, a name is generated using the fullname template
  name: ""

podAnnotations: {}

podSecurityContext:
  fsGroup: 2000

securityContext: {}

ingress:
  enabled: false

p2pService:
  staticIP: ""
  type: LoadBalancer
  port: 9735
  targetPort: 9735

restService:
  type: ClusterIP
  port: 3010
  targetPort: 3010

grpcService:
  port: 12313

resources:
  {}
  # We usually recommend not to specify default resources and to leave this as a conscious
  # choice for the user. This also increases chances charts run on environments with little
  # resources, such as Minikube. If you do want to specify resources, uncomment the following
  # lines, adjust them as necessary, and remove the curly braces after 'resources:'.
  # limits:
  #   cpu: 100m
  #   memory: 128Mi
  # requests:
  #   cpu: 100m
  #   memory: 128Mi

persistence:
  enabled: true
  ## database data Persistent Volume Storage Class
  ## If defined, storageClassName: <storageClass>
  ## If set to "-", storageClassName: "", which disables dynamic provisioning
  ## If undefined (the default) or set to null, no storageClassName spec is
  ##   set, choosing the default provisioner.  (gp2 on AWS, standard on
  ##   GKE, AWS & OpenStack)
  ##
  # storageClass: "-"
  accessMode: ReadWriteOnce
  size: 10Gi

nodeSelector: {}

tolerations: []

affinity:
  podAffinity:
    preferredDuringSchedulingIgnoredDuringExecution:
      - weight: 100
        podAffinityTerm:
          labelSelector:
            matchExpressions:
              - key: app.kubernetes.io/name
                operator: In
                values:
                  - bitcoind
          topologyKey: kubernetes.io/hostname

labels: {}

podLabels:
  app: lightningd

# Tor support configuration
tor:
  enabled: false
  # Tor proxy settings for outgoing connections
  proxyHost: "127.0.0.1"
  proxyPort: 9150
  # Always use proxy for connections (recommended for Tor-only nodes)
  alwaysUseProxy: false

lightningdGenericConfig:
  - developer
  - bitcoin-rpcuser=rpcuser
  - bitcoin-rpcconnect=bitcoind.bitcoin-mainnet.svc.cluster.local
  - bitcoin-rpcport=8332
  - bitcoin-retry-timeout=3600
  - alias=NumeraireSwissKnife
  - rgb=55C692
  - fee-base=800
  - fee-per-satoshi=8
  - min-capacity-sat=10000
  - ignore-fee-limits=true
  - max-concurrent-htlcs=30
  - funding-confirms=3
  - dev-allowdustreserve=true
  - grpc-port=12313
  - disable-dns
  - clnrest-port=3010
  - clnrest-host=0.0.0.0
  - log-level=debug

startupProbe:
  failureThreshold: 5

livenessProbe:
  failureThreshold: 3
